(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{4180:()=>{},5186:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>m});var s=t(5057),c=t(3589),n=t(7076),l=function(e){return e.green="#64dbb2",e.orange="#f0776a",e.blue="#58abf6",e.yellow="#facd4b",e.purple="#9f5bba",e.coco="#ca8179",e}({}),i=function(e){return e.bulbasaur="#64dbb2",e.ivysaur="#64dbb2",e.venusaur="#64dbb2",e.charmander="#f0776a",e.charmeleon="#f0776a",e.charizard="#f0776a",e.squirtle="#58abf6",e.wartortle="#58abf6",e.blastoise="#58abf6",e.caterpie="#64dbb2",e.metapod="#64dbb2",e.butterfree="#9f5bba",e.weedle="#facd4b",e.kakuna="#facd4b",e.beedrill="#facd4b",e.pidgey="#ca8179",e.pidgeotto="#ca8179",e.pidgeot="#ca8179",e.rattata="#9f5bba",e.raticate="#facd4b",e}({});function o(e){var a;let{pokemon:t,handleClick:c}=e;return(0,s.jsxs)("div",{className:"pokemon-card flex justify-between p-4 relative",style:{backgroundColor:i[t.name]||l.green},onClick:function(){c(t)},"data-testid":"pokemon-card-".concat(t.name),children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"font-bold mb-2 text-white","data-testid":"pokemon-card-".concat(t.name,"-name"),children:(a=t.name)?a.charAt(0).toUpperCase()+a.slice(1):""}),t.types.map((e,a)=>(0,s.jsx)("div",{className:"pokemon-card__skill",children:e.type.name},a)),(0,s.jsx)("div",{className:"pokemon-card__order",children:(0,s.jsxs)("div",{children:["# ",(0,s.jsx)("span",{children:t.order})]})})]}),(0,s.jsx)("div",{className:"flex items-center pl-2",children:(0,s.jsx)(n.default,{className:"pokemon-card__image",src:t.sprites.front_default,alt:t.name,width:96,height:96,priority:!0})})]})}function d(e){var a;let{pokemon:t}=e,n=["About","Base Stats","Evolutions","Moves"],[l,i]=(0,c.useState)(n[0]),o=[{label:"Species",value:t.species.name},{label:"Height",value:t.height},{label:"Weight",value:t.weight},{label:"Abilities",value:t.abilities.map(e=>e.ability.name)}];return(0,s.jsxs)("div",{className:"pokemon-card-tab",children:[(0,s.jsx)("div",{className:"pokemon-card-tab__navigation flex justify-between items-center px-5 py-4",children:n.map((e,a)=>(0,s.jsx)("div",{className:"pokemon-card-tab__navigation-item ".concat(e===l?"active":""),onClick:()=>i(e),"data-testid":"pokemon-card-tab-navigation-".concat(e),children:e},"navigation-".concat(a)))}),l===n[0]&&(0,s.jsx)("div",{className:"pokemon-card-tab__content","data-testid":"pokemon-card-tab-content-".concat(n[0]),children:o.map((e,a)=>(0,s.jsxs)("div",{className:"flex mb-10",children:[(0,s.jsx)("div",{className:"text-gray-400 basis-[30%] w-[30%]",children:e.label}),(0,s.jsx)("div",{className:"basis-[70%] w-[70%]",children:e.value})]},"about-data-".concat(a)))}),l===n[1]&&(0,s.jsx)("div",{className:"pokemon-card-tab__content","data-testid":"pokemon-card-tab-content-".concat(n[1]),children:t.stats.map((e,a)=>{var t;return(0,s.jsxs)("div",{className:"flex mb-10",children:[(0,s.jsx)("div",{className:"text-gray-400 basis-[30%] w-[30%]",children:((t=e.stat.name).charAt(0).toUpperCase()+t.slice(1)).replaceAll("-"," ")}),(0,s.jsx)("div",{className:"basis-[70%] w-[70%]",children:e.base_stat})]},"ability-data-".concat(a))})}),l===n[2]&&(0,s.jsx)("div",{className:"pokemon-card-tab__content","data-testid":"pokemon-card-tab-content-".concat(n[2]),children:(0,s.jsxs)("div",{className:"flex mb-10",children:[(0,s.jsx)("div",{className:"text-gray-400 basis-[30%] w-[30%]",children:"Evolution"}),(0,s.jsx)("div",{className:"basis-[70%] w-[70%]",children:t.evolution&&function e(a){return 0===a.evolves_to.length?a.species.name:"".concat(a.species.name," → ").concat(e(a.evolves_to[0]))}(null==(a=t.evolution)?void 0:a.chain)})]})}),l===n[3]&&(0,s.jsx)("div",{className:"pokemon-card-tab__content","data-testid":"pokemon-card-tab-content-".concat(n[3]),children:t.moves.map((e,a)=>(0,s.jsxs)("div",{className:"flex mb-10",children:[(0,s.jsx)("div",{className:"text-gray-400 basis-[30%] w-[30%]",children:"Name"}),(0,s.jsx)("div",{className:"basis-[70%] w-[70%]",children:e.move.name})]},"moves-data-".concat(a)))})]})}function r(e){var a;let{className:t,pokemon:o,handleCloseClick:r,useAnimation:m}=e,[u,p]=(0,c.useState)(t),b=(0,c.useRef)(null),h=(0,c.useRef)(!0),f=(0,c.useRef)(!0);return(0,c.useEffect)(()=>{if(f.current){let e=window.scrollY;document.body.style.position="fixed",document.body.style.top="-".concat(e,"px"),document.body.style.left="0",document.body.style.right="0";let a=document.documentElement.scrollHeight;b.current&&(b.current.style.height=a+"px"),f.current=!1}},[]),(0,c.useEffect)(()=>{if(!h.current&&(null==u?void 0:u.includes("slidedown"))){let e=document.body.style.top;document.body.style.position="",document.body.style.top="",document.body.style.left="",document.body.style.right="",window.scrollTo(0,-1*parseInt(e||"0")),setTimeout(()=>{r&&r()},600)}},[u]),(0,s.jsx)("div",{ref:b,className:"pokemon-card-detail bg-white ".concat(u," ").concat(m?"pokemon-card-detail--use-animation":""),"data-testid":"pokemon-card-".concat(o.name,"-detail"),children:(0,s.jsxs)("div",{className:"pokemon-card-detail__container",children:[(0,s.jsxs)("div",{style:{backgroundColor:i[o.name]||l.green},children:[(0,s.jsxs)("div",{className:"flex justify-between items-center px-5 py-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-[40px] font-bold mb-1 text-white",children:(a=o.name)?a.charAt(0).toUpperCase()+a.slice(1):""}),(0,s.jsx)("div",{className:"flex",children:o.types.map((e,a)=>(0,s.jsx)("div",{className:"pokemon-card-detail__skill",children:e.type.name},a))})]}),(0,s.jsx)("div",{className:"pokemon-card-detail__order",children:(0,s.jsxs)("div",{children:["# ",(0,s.jsx)("span",{children:o.order})]})})]}),(0,s.jsx)("div",{className:"flex items-center justify-center",children:(0,s.jsx)(n.default,{className:"pokemon-card-detail__image",src:o.sprites.other["official-artwork"].front_default,alt:o.name,width:300,height:300,priority:!0})}),(0,s.jsx)("div",{className:"pokemon-card-detail__close",onClick:function(){p("".concat(t," slidedown")),h.current&&(h.current=!1)},"data-testid":"pokemon-card-".concat(o.name,"-detail-close"),children:"✕"})]}),(0,s.jsx)(d,{pokemon:o})]})})}function m(){let[e,a]=(0,c.useState)(),{pokemon:t}=(()=>{let[e,a]=(0,c.useState)(),[t,s]=(0,c.useState)(!0),[n,l]=(0,c.useState)(),i=async e=>{let t=(await Promise.allSettled(e.map(e=>new Promise((a,t)=>{fetch(e.url).then(e=>e.json()).then(e=>{a(e)}).catch(e=>t(e))})))).filter(e=>"fulfilled"===e.status).map(e=>e.value),s=(await Promise.allSettled(t.map(e=>{var a;return a=e.species.url,new Promise((e,t)=>{fetch(a).then(e=>e.json()).then(a=>{e(a)}).catch(e=>t(e))})}))).filter(e=>"fulfilled"===e.status).map(e=>e.value),c=(await Promise.allSettled(s.map(e=>{var a,t;return a=e.evolution_chain.url,t=e.id,new Promise((e,s)=>{fetch(a).then(e=>e.json()).then(a=>{e({...a,pokemonId:t})}).catch(e=>s(e))})}))).filter(e=>"fulfilled"===e.status).reduce((e,a)=>({...e,[a.value.pokemonId]:a.value}),{});a(t.map(e=>({...e,evolution:c[e.id]})))};return(0,c.useEffect)(()=>{!async function(){try{let e=await fetch("https://pokeapi.co/api/v2/pokemon"),a=await e.json();i(a.results)}catch(e){l(e)}finally{s(!1)}}()},[]),{pokemon:e,isFetching:t,error:n}})();function n(e){a(e)}return(0,s.jsx)("div",{className:"flex justify-center pb-10 px-3",children:(0,s.jsxs)("main",{className:"lg:w-[1024px] sm:w-[800px] w-[480px] relative",children:[(0,s.jsx)("h1",{className:"text-[40px] font-bold mt-10 mb-6",children:"Pokedex"}),(0,s.jsx)("div",{className:"flex flex-wrap gap-4",children:t&&t.map(e=>(0,s.jsx)("div",{className:"lg:basis-[calc(25%-0.8rem)] lg:w--[calc(25%-0.8rem)] sm:basis-[calc(33%-0.6rem)] sm:w--[calc(33%-0.6rem)] basis-[calc(50%-0.5rem)] w--[calc(50%-0.5rem)]",children:(0,s.jsx)(o,{pokemon:e,handleClick:n})},e.name))}),e&&(0,s.jsx)(r,{pokemon:e,handleCloseClick:function(){a(void 0)},className:"absolute top-0 left-0 w-[inherit] h-[-webkit-fill-available]",useAnimation:!0})]})})}t(4180),t(5415),t(6758)},5415:()=>{},6758:()=>{},7411:(e,a,t)=>{Promise.resolve().then(t.bind(t,5186))}},e=>{e.O(0,[480,76,408,612,358],()=>e(e.s=7411)),_N_E=e.O()}]);